import { addCommonDirectiveOptions, commonDirectiveOptions } from './utils.js';
export const asideDirective = {
    name: 'aside',
    alias: ['margin', 'sidebar', 'topic'],
    arg: {
        type: 'myst',
        doc: 'An optional title',
    },
    options: {
        ...commonDirectiveOptions('aside'),
    },
    body: {
        type: 'myst',
        required: true,
    },
    run(data) {
        const children = [...data.body];
        if (data.arg) {
            children.unshift({
                type: 'admonitionTitle',
                children: data.arg,
            });
        }
        const aside = {
            type: 'aside',
            kind: data.name == 'aside' || data.name == 'margin' ? undefined : data.name,
            children,
        };
        addCommonDirectiveOptions(data, aside);
        return [aside];
    },
};
