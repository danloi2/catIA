import yaml from 'js-yaml';
import { addCommonDirectiveOptions, commonDirectiveOptions } from './utils.js';
export const mystdemoDirective = {
    name: 'myst',
    options: {
        ...commonDirectiveOptions('myst'),
        numbering: {
            type: String,
        },
    },
    body: {
        type: String,
        required: true,
    },
    run(data) {
        var _a;
        let numbering;
        if ((_a = data.options) === null || _a === void 0 ? void 0 : _a.numbering) {
            try {
                numbering = yaml.load(data.options.numbering);
            }
            catch (err) {
                //pass
            }
        }
        const myst = {
            type: 'myst',
            numbering,
            value: data.body,
        };
        addCommonDirectiveOptions(data, myst);
        return [myst];
    },
};
